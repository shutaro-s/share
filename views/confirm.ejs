<!DOCTYPE html>
<html lang="ja" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>全体シフト</title>
  </head>
  <body>
    <h1>全体シフト</h1>
    <table width="80%">
      <tr>
        <th align="center">ID</th>
        <th align="center">名前</th>
        <th align="center">日付</th>
        <th align="center">希望開始時間</th>
        <th align="center">希望終了時間</th>
        <th align="center">備考</th>
      </tr>
      <% var used = [0123456789];%>
      <% var u = 1;%>
        <% for(i = 0; i < shifts.length; i++){
          var flag = true;
          for(j = 0; j < used.length; j++){
            if(used[j] == shifts[i].id){%>
              <% flag = null; %>
              <% break; %>
            <% } %>
          <% } %>
          <%if(flag){
            used[u] = shifts[i].id; %>
            <% u++; %>
            <input type="checkbox" name="person" value="<%= shifts[i].id %>"><%= shifts[i].name %>
          <% } %>
        <% } %>
        <br>
        <br>
      <% shifts.forEach((shift)=>{ %>
      <tr>
        <td align="center"><%= shift.id %></td>
        <td align="center"><%= shift.name %></td>
        <td align="center"><%= shift.YEAR %>/<%= shift.MONTH %>/<%= shift.DAY %><% switch(shift.DAYOFWEEK){
          case 1: %>
            (日)
            <% break; %>
          <% case 2: %>
            (月)
            <% break; %>
          <% case 3: %>
            (火)
            <% break; %>
          <% case 4: %>
            (水)
            <% break; %>
          <% case 5: %>
            (木)
            <% break; %>
          <% case 6: %>
            (金)
            <% break; %>
          <% case 7: %>
            (土)
            <% break;} %></td>
        <td align="center"><%= shift.STARTTIME %></td>
        <td align="center"><%= shift.ENDTIME %></td>
        <td align="center"><%= shift.ex %></td>
      </tr>
    <% }) %>
  </table>
  <br>
  <button type="button" onClick="history.back()">戻る</button>
  </body>
</html>
